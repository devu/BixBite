/*!
 * VERSION: beta 1.11
 * DATE: 2012-07-26
 * JavaScript (also available in AS3 and AS2)
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("plugins.BezierPlugin",["plugins.TweenPlugin"],function(H){var B=function(){H.call(this,"bezier",-1);this._overwriteProps.pop();this._func={};this._round={}},G=B.prototype=new H("bezier",1),K=180/Math.PI,C=[],D=[],E=[],I={},F=function(b,d,i,n){this.a=b;this.b=d;this.c=i;this.d=n;this.da=n-b;this.ca=i-b;this.ba=d-b},L=B.bezierThrough=function(b,d,i,n,m,c){var e={},f=[],g,k,m="string"===typeof m?","+m+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,"; null==d&&(d=1);for(k in b[0])f.push(k);C.length=D.length=E.length=0;for(g=f.length;-1<--g;){k=f[g];I[k]=-1!==m.indexOf(","+k+",");var t=e,v=k,q;q=b;var p=k,y=I[k],o=c,u=[],s=void 0,h=void 0,x=void 0,w=void 0,z=void 0,s=void 0;if(o){q=[o].concat(q);for(h=q.length;-1<--h;)if("string"===typeof(s=q[h][p]))"="===s.charAt(1)&&(q[h][p]=o[p]+Number(s.charAt(0)+s.substr(2)))}s=q.length-2;if(0>s)u[0]=new F(q[0][p],0,0,q[-1>s?0:1][p]);else{for(h=0;h<s;h++)x=q[h][p],w=q[h+1][p],u[h]=new F(x,0,0,w),y&&(z=q[h+ 2][p],C[h]=(C[h]||0)+(w-x)*(w-x),D[h]=(D[h]||0)+(z-w)*(z-w));u[h]=new F(q[h][p],0,0,q[h+1][p])}q=u;t[v]=q}for(g=C.length;-1<--g;)C[g]=Math.sqrt(C[g]),D[g]=Math.sqrt(D[g]);if(!n){for(g=f.length;-1<--g;)if(I[k]){a=e[f[g]];l=a.length-1;for(j=0;j<l;j++)r=a[j+1].da/D[j]+a[j].da/C[j],E[j]=(E[j]||0)+r*r}for(g=E.length;-1<--g;)E[g]=Math.sqrt(E[g])}for(g=f.length;-1<--g;){k=f[g];b=e[k];m=d;c=i;t=n;k=I[k];v=b.length-1;q=0;for(var p=b[0].a,A=z=w=o=s=w=x=s=h=x=u=o=y=void 0,y=0;y<v;y++)h=b[q],o=h.a,u=h.d,x=b[q+ 1].d,k?(w=C[y],z=D[y],A=0.25*(z+w)*m/(t?0.5:E[y]||0.5),s=u-(u-o)*(t?0.5*m:A/w),x=u+(x-u)*(t?0.5*m:A/z),w=u-(s+(x-s)*(3*w/(w+z)+0.5)/4)):(s=u-0.5*(u-o)*m,x=u+0.5*(x-u)*m,w=u-(s+x)/2),s+=w,x+=w,h.c=s,h.b=0!=y?p:p=h.a+0.6*(h.c-h.a),h.da=u-o,h.ca=s-o,h.ba=p-o,c?(o=J(o,p,s,u),b.splice(q,1,o[0],o[1],o[2],o[3]),q+=4):q++,p=x;h=b[q];h.b=p;h.c=p+0.4*(h.d-p);h.da=h.d-h.a;h.ca=h.c-h.a;h.ba=p-h.a;c&&(o=J(h.a,p,h.c,h.d),b.splice(q,1,o[0],o[1],o[2],o[3]))}return e},J=B.cubicToQuadratic=function(b,d,i,n){var m= {a:b},c={},e={},f={c:n},g=(b+d)/2,k=(d+i)/2,i=(i+n)/2,d=(g+k)/2,k=(k+i)/2,t=(k-d)/8;m.b=g+(b-g)/4;c.b=d+t;m.c=c.a=(m.b+c.b)/2;c.c=e.a=(d+k)/2;e.b=k-t;f.b=i+(n-i)/4;e.c=f.a=(e.b+f.b)/2;return[m,c,e,f]};B.quadraticToCubic=function(b,d,i){return new F(b,(2*d+b)/3,(2*d+i)/3,i)};G.constructor=B;B.API=2;G._onInitTween=function(b,d,i){this._target=b;d instanceof Array&&(d={values:d});this._props=[];this._timeRes=null==d.timeResolution?6:parseInt(d.timeResolution);var n=d.values||[],m={},c=n[0],i=d.autoRotate|| i.vars.orientToBezier,e,f,g;this._autoRotate=i?i instanceof Array?i:[["x","y","rotation",!0===i?0:Number(i)||0]]:null;for(e in c)this._props.push(e);for(c=this._props.length;-1<--c;)e=this._props[c],this._overwriteProps.push(e),i=this._func[e]="function"===typeof b[e],m[e]=!i?parseFloat(b[e]):b[e.indexOf("set")||"function"!==typeof b["get"+e.substr(3)]?e:"get"+e.substr(3)](),g||m[e]!==n[0][e]&&(g=m);if("cubic"!==d.type&&"quadratic"!==d.type&&"soft"!==d.type)m=L(n,isNaN(d.curviness)?1:d.curviness, !1,"thruBasic"===d.type,d.correlate,g);else{i=(i=d.type)||"soft";d={};g="cubic"===i?3:2;var i="soft"===i,c=[],k,t,v,q,p,y,o,u,s;i&&m&&(n=[m].concat(n));if(null==n||n.length<g+1)throw"invalid Bezier data";for(t in n[0])c.push(t);for(y=c.length;-1<--y;){t=c[y];d[t]=p=[];s=0;u=n.length;for(o=0;o<u;o++)k=null==m?n[o][t]:"string"===typeof(v=n[o][t])&&"="===v.charAt(1)?m[t]+Number(v.charAt(0)+v.substr(2)):Number(v),i&&1<o&&o<u-1&&(p[s++]=(k+p[s-2])/2),p[s++]=k;u=s-g+1;for(o=s=0;o<u;o+=g)k=p[o],t=p[o+1], v=p[o+2],q=2===g?0:p[o+3],p[s++]=v=3===g?new F(k,t,v,q):new F(k,(2*t+k)/3,(2*t+v)/3,v);p.length=s}m=d}this._beziers=m;this._segCount=this._beziers[e].length;if(this._timeRes){c=this._beziers;e=this._timeRes;e=e>>0||6;m=[];t=[];n=v=0;d=e-1;g=[];i=[];for(f in c){k=c[f];p=m;y=e;o=1/y;u=k.length;for(var h=void 0,x=void 0,w=q=s=x=void 0,z=h=void 0,A=void 0,A=w=void 0;-1<--u;){w=k[u];x=w.a;s=w.d-x;q=w.c-x;w=w.b-x;x=0;for(z=1;z<=y;z++)h=o*z,A=1-h,h=x-(x=(h*h*s+3*A*(h*q+A*w))*h),A=u*y+z-1,p[A]=(p[A]||0)+ h*h}}c=m.length;for(f=0;f<c;f++)v+=Math.sqrt(m[f]),k=f%e,i[k]=v,k===d&&(n+=v,k=f/e>>0,g[k]=i,t[k]=n,v=0,i=[]);this._length=n;this._lengths=t;this._segments=g;this._l1=this._li=this._s1=this._si=0;this._l2=this._lengths[0];this._curSeg=this._segments[0];this._s2=this._curSeg[0];this._prec=1/this._curSeg.length}if(i=this._autoRotate){i[0]instanceof Array||(this._autoRotate=i=[i]);for(c=i.length;-1<--c;)for(f=0;3>f;f++)e=i[c][f],this._func[e]="function"===typeof b[e]?b[e.indexOf("set")||"function"!== typeof b["get"+e.substr(3)]?e:"get"+e.substr(3)]:!1}return!0};G.setRatio=function(b){var d=this._segCount,i=this._func,n=this._target,m,c,e,f,g;if(this._timeRes){m=this._lengths;f=this._curSeg;b*=this._length;c=this._li;if(b>this._l2&&c<d-1){for(d-=1;c<d&&(this._l2=m[++c])<=b;);this._l1=m[c-1];this._li=c;this._curSeg=f=this._segments[c];this._s2=f[this._s1=this._si=0]}else if(b<this._l1&&0<c){for(;0<c&&(this._l1=m[--c])>=b;);0===c&&b<this._l1?this._l1=0:c++;this._l2=m[c];this._li=c;this._curSeg=f= this._segments[c];this._s1=f[(this._si=f.length-1)-1]||0;this._s2=f[this._si]}m=c;b-=this._l1;c=this._si;if(b>this._s2&&c<f.length-1){for(d=f.length-1;c<d&&(this._s2=f[++c])<=b;);this._s1=f[c-1];this._si=c}else if(b<this._s1&&0<c){for(;0<c&&(this._s1=f[--c])>=b;);0===c&&b<this._s1?this._s1=0:c++;this._s2=f[c];this._si=c}f=(c+(b-this._s1)/(this._s2-this._s1))*this._prec}else m=0>b?0:1<=b?d-1:d*b>>0,f=(b-m*(1/d))*d;d=1-f;for(c=this._props.length;-1<--c;)if(b=this._props[c],e=this._beziers[b][m],g=(f* f*e.da+3*d*(f*e.ca+d*e.ba))*f+e.a,this._round[b]&&(g=g+(0<g?0.5:-0.5)>>0),i[b])n[b](g);else n[b]=g;if(this._autoRotate){var d=this._autoRotate,k,t,v,q,p;for(c=d.length;-1<--c;)b=d[c][2],q=d[c][3]||0,p=!0==d[c][4]?1:K,e=this._beziers[d[c][0]][m],g=this._beziers[d[c][1]][m],k=e.a+(e.b-e.a)*f,t=e.b+(e.c-e.b)*f,k+=(t-k)*f,t+=(e.c+(e.d-e.c)*f-t)*f,e=g.a+(g.b-g.a)*f,v=g.b+(g.c-g.b)*f,e+=(v-e)*f,v+=(g.c+(g.d-g.c)*f-v)*f,g=Math.atan2(v-e,t-k)*p+q,i[b]?i[b].call(n,g):n[b]=g}};G._roundProps=function(b,d){for(var i= this._overwriteProps,n=i.length;-1<--n;)if(b[i[n]]||b.bezier||b.bezierThrough)this._round[i[n]]=d};G._kill=function(b){var d=this._props,i,n;for(i in _beziers)if(i in b){delete this._beziers[i];delete this._func[i];for(n=d.length;-1<--n;)d[n]===i&&d.splice(n,1)}return H.prototype._kill.call(this,b)};H.activate([B]);return B},!0)});window._gsDefine&&_gsQueue.pop()();